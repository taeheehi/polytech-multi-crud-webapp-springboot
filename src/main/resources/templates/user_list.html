<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>íšŒì› ëª©ë¡</title>

  <!-- âœ… ê³µí†µ ìŠ¤íƒ€ì¼ -->
  <link rel="stylesheet" href="/css/home.css">
  <!-- âœ… í…Œì´ë¸” ì „ìš© ìŠ¤íƒ€ì¼ -->
  <link rel="stylesheet" href="/css/user_list.css">
  <!-- âœ… ìˆ˜ì • ì•ŒëŒ ìŠ¤íƒ€ì¼ -->
  <link rel="stylesheet" href="/css/common.css">


</head>
<body>

  <!-- âœ… ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
  <header class="navbar">
    <div class="nav-left">
      <a href="/" class="logo">í™ˆí˜ì´ì§€</a>
    </div>
    <div class="nav-right" id="nav-right">
      <!-- JSì—ì„œ ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¼ ë™ì ìœ¼ë¡œ ì¶œë ¥ë¨ -->
    </div>
  </header>


  <!-- âœ… ì»¤ìŠ¤í…€ ì•Œë¦¼ ë©”ì‹œì§€ ë°•ìŠ¤ (ìë™ ë‹«í˜ + ìˆ˜ë™ ë‹«ê¸° ì§€ì›) -->
  <div id="customAlert"></div>



  <!-- âœ… ë³¸ë¬¸ ì½˜í…ì¸  -->
  <main class="list-container">
    <h2>ğŸ“‹ ì „ì²´ íšŒì› ëª©ë¡ (ê´€ë¦¬ì ì „ìš©)</h2>

    <table class="user-table">
      <thead>
        <tr>
          <th>ë²ˆí˜¸</th>
          <th>ê¶Œí•œ</th>
          <th>ID</th>
          <th>ì´ë¦„</th>
          <th>ì—°ë½ì²˜</th>
          <th>ì£¼ì†Œ</th>
          <th>ê°€ì…ì¼</th>
          <th>ìˆ˜ì •ì¼</th>
          <th>ìˆ˜ì •</th>
        </tr>
      </thead>
      <tbody id="userTableBody">
        <!-- ğŸ” JSì—ì„œ fetchë¡œ ë™ì ìœ¼ë¡œ ì±„ì›€ -->
      </tbody>
    </table>

    <div class="button-area">
      <a href="/" class="back-btn">â† ëŒì•„ê°€ê¸°</a>
    </div>
  </main>
  


  <!-- âœ… JavaScript: ë¡œê·¸ì¸ ì„¸ì…˜ + íšŒì› ëª©ë¡ ë™ì  ì²˜ë¦¬ -->
  <script>                                                          
    // ğŸ“‹ íšŒì› ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
    fetch("/getUsersJson")
      .then(res => res.json())
      .then(users => {
        let html = "";
        users.forEach((u, i) => {
          html += `
            <tr>
              <td>${i + 1}</td>
              <td>${u.userType}</td>
              <td>${u.id}</td>
              <td>${u.name}</td>
              <td>${u.phone}</td>
              <td>${u.address}</td>
              <td>${u.created}</td>
              <td>${u.lastUpdated}</td>
              <td>
                <a href="/admin/user/edit?id=${u.id}" class="btn btn-sm btn-outline-primary">ìˆ˜ì •</a>
              </td>
            </tr>
          `;
        });
        document.querySelector("#userTableBody").innerHTML = html;
      });


  </script>



  <!-- âœ… ê³µë™ ìˆ˜ì •ì™„ë£Œì‹œ JS í˜¸ì¶œ -->
  <script src="/js/common.js"></script>
  <script>
    renderNavMenu();        // ë¡œê·¸ì¸ ë©”ë‰´ ì¶œë ¥
    showMessageIfExists();  // âœ… ë©”ì‹œì§€ ì•Œë¦¼ ì¶œë ¥
  </script>









</body>
</html>
